<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="sonicscrewdriver">
<title>Augmenting audio data in R with SonicScrewdriveR • sonicscrewdriver</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Augmenting audio data in R with SonicScrewdriveR">
<meta property="og:description" content="sonicscrewdriver">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sonicscrewdriver</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.0.6.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/sonicscrewdriver.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/audioblast.html">Using audioBlast with R</a>
    <a class="dropdown-item" href="../articles/augment-audio-data.html">Augmenting audio data in R with SonicScrewdriveR</a>
    <a class="dropdown-item" href="../articles/converting-code.html">Converting code to work with SonicScrewdriveR</a>
    <a class="dropdown-item" href="../articles/manage_audio.html">Managing audio in R</a>
    <a class="dropdown-item" href="../articles/other-apps.html">Interacting with other tools</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/edwbaker/SonicScrewdriveR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Augmenting audio data in R with SonicScrewdriveR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/edwbaker/SonicScrewdriveR/blob/HEAD/vignettes/articles/augment-audio-data.Rmd" class="external-link"><code>vignettes/articles/augment-audio-data.Rmd</code></a></small>
      <div class="d-none name"><code>augment-audio-data.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sonicscrewdriver.ebaker.me.uk" class="external-link">sonicscrewdriver</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Augmenting data is a common practice in machine learning. It is the
process of creating new data from existing data (e.g. by adding noise).
This is done to increase the size of the training data and to make the
model more robust. This article will show how to augment audio data in R
using the <code>sonicscrewdriver</code> package.</p>
<p>All of the <code>generateX()</code> functions in
<code>sonicscrewdriver</code> are designed to operate on
<code>Wave</code>-like objects (<code>Wave</code> or <code>WaveMC</code>
from <code>tuneR</code> of their Tagged equivalents) or a list of
<code>Wave</code>-like objects. Similarly, all of these functions return
a list of <code>Wave</code>-like objects. This means that you can chain
these functions together to create complex data augmentation
pipelines.</p>
</div>
<div class="section level2">
<h2 id="types-of-augmentation">Types of augmentation<a class="anchor" aria-label="anchor" href="#types-of-augmentation"></a>
</h2>
<p>In order to demonstrate the data augmentation process, we will use
the <code>sonicscrewdriver</code> package to generate a Dirac pulse.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate a Dirac pulse</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pulse.html">pulse</a></span><span class="op">(</span><span class="st">"dirac"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot the pulse</span></span>
<span><span class="fu">seewave</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/seewave/man/oscillo.html" class="external-link">oscillo</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
<p><img src="augment-audio-data_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<div class="section level3">
<h3 id="noise-augmentation">Noise augmentation<a class="anchor" aria-label="anchor" href="#noise-augmentation"></a>
</h3>
<p>Noise augmentation is a common technique used to increase the size of
the training data. It is the process of adding noise to the original
data. The <code>sonicscrewdriver</code> package provides the
<code><a href="../reference/generateNoise.html">generateNoise()</a></code> function to add noise to audio data.</p>
<p>In this example we will add two different amounts of white noise to
the Dirac pulse.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">augmented</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/generateNoise.html">generateNoise</a></span><span class="op">(</span><span class="va">p</span>, <span class="st">"white"</span>, noise.ratio<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/generateNoise.html">generateNoise</a></span><span class="op">(</span><span class="va">p</span>, <span class="st">"white"</span>, noise.ratio<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">augmented</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">seewave</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/seewave/man/oscillo.html" class="external-link">oscillo</a></span><span class="op">(</span><span class="va">augmented</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><img src="augment-audio-data_files/figure-html/unnamed-chunk-3-1.png" width="700"><img src="augment-audio-data_files/figure-html/unnamed-chunk-3-2.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="time-shifting-rotationpadding">Time shifting (rotation/padding)<a class="anchor" aria-label="anchor" href="#time-shifting-rotationpadding"></a>
</h3>
<p>Time shifting is the process of shifting the audio data by a certain
number of samples. The <code>sonicscrewdriver</code> package provides
the <code><a href="../reference/generateTimeShift.html">generateTimeShift()</a></code> function to rotate audio data,
either rotating the audio data within the file, or padding the file with
silence.</p>
<p>To demonstrate time shifting we will generate the sum of a sine wave
and a Dirac pulse.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu">tuneR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tuneR/man/Waveforms.html" class="external-link">sine</a></span><span class="op">(</span><span class="fl">440</span>, duration<span class="op">=</span><span class="fl">44100</span><span class="op">*</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pulse.html">pulse</a></span><span class="op">(</span><span class="st">"dirac"</span>, duration<span class="op">=</span><span class="fl">44100</span><span class="op">*</span><span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fl">0.25</span><span class="op">*</span><span class="va">p1</span> <span class="op">+</span> <span class="fu">tuneR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tuneR/man/normalize.html" class="external-link">normalize</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">seewave</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/seewave/man/oscillo.html" class="external-link">oscillo</a></span><span class="op">(</span><span class="va">p</span><span class="op">)</span></span></code></pre></div>
<p><img src="augment-audio-data_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>Time shifting by inserting silence.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Rotate the audio data by one second</span></span>
<span><span class="va">rotated</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/generateTimeShift.html">generateTimeShift</a></span><span class="op">(</span><span class="va">p</span>, amount<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">seewave</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/seewave/man/oscillo.html" class="external-link">oscillo</a></span><span class="op">(</span><span class="va">rotated</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p><img src="augment-audio-data_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<p>Alternatively, we can rotate the audio data.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Rotate the audio data by one second</span></span>
<span><span class="va">rotated</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/generateTimeShift.html">generateTimeShift</a></span><span class="op">(</span><span class="va">p</span>, type<span class="op">=</span><span class="st">"rotate"</span>, amount<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">seewave</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/seewave/man/oscillo.html" class="external-link">oscillo</a></span><span class="op">(</span><span class="va">rotated</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p><img src="augment-audio-data_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
</div>
</div>
<div class="section level2">
<h2 id="time-masking">Time-masking<a class="anchor" aria-label="anchor" href="#time-masking"></a>
</h2>
<p>Time-masking is the process of zeroing a section of the audio data.
The <code>sonicscrewdriver</code> package provides the
<code><a href="../reference/generateTimeMask.html">generateTimeMask()</a></code> function to mask a section of the audio
data.</p>
<p>To demonstrate time masking we first generate a sine wave.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate a sine wave</span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu">tuneR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tuneR/man/Waveforms.html" class="external-link">sine</a></span><span class="op">(</span><span class="fl">1000</span>, duration<span class="op">=</span><span class="fl">100</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot the left audio channel</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">w</span><span class="op">@</span><span class="va">left</span><span class="op">)</span></span></code></pre></div>
<p><img src="augment-audio-data_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>Random masking sets a random section of the audio data to zero. In
the example below we use a duty cycle of 0.95, which means that 5% of
the audio data will be set to zero.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mask the audio data</span></span>
<span><span class="va">masked</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/generateTimeMask.html">generateTimeMask</a></span><span class="op">(</span><span class="va">w</span>, method<span class="op">=</span><span class="st">"random"</span>, dutyCycle<span class="op">=</span><span class="fl">0.95</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">masked</span><span class="op">@</span><span class="va">left</span><span class="op">)</span></span></code></pre></div>
<p><img src="augment-audio-data_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<p>It is also possible to introduce masking using a square wave. The
<code>n.periods</code> parameter controls the number of periods in the
square wave, and the <code>dutyCycle</code> parameter controls the duty
cycle of the square wave.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mask the audio data</span></span>
<span><span class="va">masked</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/generateTimeMask.html">generateTimeMask</a></span><span class="op">(</span><span class="va">w</span>, method<span class="op">=</span><span class="st">"squarewave"</span>, dutyCycle<span class="op">=</span><span class="fl">0.5</span>, n.periods<span class="op">=</span><span class="fl">5</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">masked</span><span class="op">@</span><span class="va">left</span><span class="op">)</span></span></code></pre></div>
<p><img src="augment-audio-data_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="combining-augmentations">Combining augmentations<a class="anchor" aria-label="anchor" href="#combining-augmentations"></a>
</h2>
<p>The <code>sonicscrewdriver</code> package allows you to chain
together multiple augmentations to create complex data augmentation
pipelines. For example, you can add noise to the audio data and then
rotate the audio data.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load some test audio data</span></span>
<span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"AUDIOMOTH.flac"</span>, package<span class="op">=</span><span class="st">"sonicscrewdriver"</span><span class="op">)</span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readAudio.html">readAudio</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add noise to the audio data and then rotate the audio data using pipes</span></span>
<span><span class="va">augmented</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">w</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/generateNoise.html">generateNoise</a></span><span class="op">(</span><span class="st">"white"</span>, noise.ratio<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/generateTimeShift.html">generateTimeShift</a></span><span class="op">(</span>amount<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create list of data and augmentations</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">w</span>, <span class="va">augmented</span><span class="op">)</span></span></code></pre></div>
<p>It is possible to use anonymous functions to add multiple
augmentations in a single step. This can be effectively used to generate
large amounts of augmented data. The code below generates three
different noise augmented versions of an input, and then two different
time-shifted versions of each of those, yielding six augmented
versions.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load some test audio data</span></span>
<span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"AUDIOMOTH.flac"</span>, package<span class="op">=</span><span class="st">"sonicscrewdriver"</span><span class="op">)</span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/readAudio.html">readAudio</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add noise to the audio data and then rotate the audio data using pipes</span></span>
<span></span>
<span><span class="va">augmented</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">w</span> <span class="op">|&gt;</span></span>
<span>  <span class="op">{</span>\<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="../reference/generateNoise.html">generateNoise</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"white"</span>, noise.ratio<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/generateNoise.html">generateNoise</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"white"</span>, noise.ratio<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/generateNoise.html">generateNoise</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"white"</span>, noise.ratio<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="op">{</span>\<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="../reference/generateTimeShift.html">generateTimeShift</a></span><span class="op">(</span><span class="va">x</span>, amount<span class="op">=</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/generateTimeShift.html">generateTimeShift</a></span><span class="op">(</span><span class="va">x</span>, amount<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create list of data and augmentations</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">w</span>, <span class="va">augmented</span><span class="op">)</span></span></code></pre></div>
<p>The same approach can be used with a list of initial
<code>Wave</code>-like objects.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load some test audio data</span></span>
<span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"AUDIOMOTH.flac"</span>, package<span class="op">=</span><span class="st">"sonicscrewdriver"</span><span class="op">)</span></span>
<span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/readAudio.html">readAudio</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/readAudio.html">readAudio</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/readAudio.html">readAudio</a></span><span class="op">(</span><span class="va">f</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add noise to the audio data and then rotate the audio data using pipes and anonymous functions</span></span>
<span><span class="va">augmented</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">w</span> <span class="op">|&gt;</span></span>
<span>  <span class="op">{</span>\<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="../reference/generateNoise.html">generateNoise</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"white"</span>, noise.ratio<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/generateNoise.html">generateNoise</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"white"</span>, noise.ratio<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/generateNoise.html">generateNoise</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"white"</span>, noise.ratio<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="op">{</span>\<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="../reference/generateTimeShift.html">generateTimeShift</a></span><span class="op">(</span><span class="va">x</span>, amount<span class="op">=</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>          <span class="fu"><a href="../reference/generateTimeShift.html">generateTimeShift</a></span><span class="op">(</span><span class="va">x</span>, amount<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">}</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create list of data and augmentations</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">w</span>, <span class="va">augmented</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://ebaker.me.uk" class="external-link">Ed Baker</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
